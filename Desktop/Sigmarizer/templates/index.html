<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGMARIZE YOUTUBE</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>SIGMARIZE YOUTUBE</h1>
        <form id="summarize-form" method="POST">
            <div class="input-group">
                <label for="query">Video Query</label>
                <input type="text" id="query" name="query" placeholder="e.g., Introduction to Machine Learning" required>
            </div>
            <div class="input-group">
                <label for="summary_style">Summary Style</label>
                <select id="summary_style" name="summary_style">
                    <option value="concise">Concise</option>
                    <option value="short and technical">Short & Technical</option>
                    <option value="detailed and casual">Detailed & Casual</option>
                </select>
            </div>
            <div class="input-group checkbox">
                <label>
                    <input type="checkbox" name="tts_enabled" {% if tts_enabled %}checked{% endif %}> Enable Text-to-Speech
                </label>
            </div>
            <button type="submit">Summarize</button>
        </form>

        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>Processing...</p>
        </div>

        <div id="result" class="result" {% if not summary %}style="display: none;"{% endif %}>
            <h2>Summary</h2>
            <p id="summary-text">{{ summary or '' }}</p>
            <p><strong>Video Link:</strong> <a id="video-link" href="{{ video_url or '#' }}" target="_blank">{{ video_url or 'Not available' }}</a></p>
            <h3>Sentiment Analysis</h3>
            <p id="sentiment-text">{{ sentiment or 'No sentiment analysis available.' }}</p>
            <audio id="audio-player" controls style="display: none;">
                <source src="{{ url_for('play_audio') }}" type="audio/mpeg">
                Your browser does not support audio.
            </audio>
        </div>
    </div>
    <script src="{{ url_for('static', path='/script.js') }}"></script>
</body>
</html>